(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),l=a.n(i),o=(a(93),a(16)),c=a(31),s=a(39),m=a(183),u=a(178),d=a(185),g=a(163),p=a(165),f=a(66),E=a(166),h=a(136),b=a(167),v=a(168);var y=Object(h.a)(function(e){return{link:{textDecoration:"none",color:"inherit"},button:{marginLeft:"auto"}}})(function(e){var t=e.classes;return r.a.createElement(g.a,{position:"fixed",color:"primary"},r.a.createElement(p.a,null,r.a.createElement(f.a,{variant:"h5",color:"inherit"},r.a.createElement(c.b,{to:"/",className:t.link},"Where in the world?")),r.a.createElement(E.a,{onClick:e.toggleTheme,className:t.button},"light"===e.theme?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(f.a,{variant:"h6"},"Dark mode")):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null),r.a.createElement(f.a,{variant:"h6"},"Light mode")))))}),w=a(173),O=a(174),j=a(175),S=a(176),k=a(177),C=a(40),x=a(170),F=a(184),N=a(181),L=a(171),T=a(172);function R(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,Object.assign({},e,{id:"outlined-search",placeholder:"Search for a country...",type:"search",variant:"outlined",InputProps:{startAdornment:r.a.createElement(L.a,{position:"start"},r.a.createElement(T.a,null))}})))}var I=a(179),z=a(182);function B(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,Object.assign({},e,{placeholder:"Filter by Region",input:r.a.createElement(z.a,{name:"region",id:"outlined-region"})}),r.a.createElement(F.a,{value:"All"},"Filter by Region"),e.children))}var H=Object(h.a)(function(e){return{form:{display:"flex",margin:"1rem 0 1rem",color:"inherit",flexFlow:"row wrap",justifyContent:"space-between",alignContent:"space-between"},textField:Object(C.a)({width:"23rem",color:e.palette.text.primary,backgroundColor:e.palette.primary.main},e.breakpoints.down("xs"),{marginBottom:"1rem"}),select:Object(C.a)({width:"10rem",backgroundColor:e.palette.primary.main,color:e.palette.text.primary},e.breakpoints.down("xs"),{marginBottom:"1rem"})}})(function(e){var t=e.classes,a=e.setSearchString,n=e.currentRegion,i=e.setCurrentRegion,l=e.regions;return r.a.createElement(x.a,{variant:"outlined",className:t.form},r.a.createElement(R,{onChange:function(e){return a(e.target.value)},className:t.textField}),r.a.createElement(B,{value:n,onChange:function(e){return i(e.target.value)},className:t.select},l&&l.map(function(e){return r.a.createElement(F.a,{key:e,value:e},e)})))});function W(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{variant:"h4",gutterBottom:!0,align:"center"},"Sorry... Something went wrong :(",r.a.createElement("br",null),"Try again later"),r.a.createElement(f.a,{variant:"h5",align:"center"},r.a.createElement(c.b,{to:"/",style:{color:"inherit"}},"Back to Homepage")))}var A=r.a.lazy(function(){return a.e(3).then(a.bind(null,186))});var _=Object(h.a)(function(e){return{content:{paddingTop:"1rem"},fab:{position:"fixed",bottom:"1rem",right:"1rem"},progress:{color:e.palette.error.main,position:"relative",left:"50%"}}})(function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),i=a[0],l=a[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),m=s[0],u=s[1],d=e.regions,g=e.data,p=e.classes,f=e.currentRegion,E=e.setCurrentRegion,h=e.isError;function b(){var e=window.innerHeight,t=window.pageYOffset;u(t>e/4)}r.a.useEffect(function(){return window.addEventListener("scroll",b,!0),function(){return window.removeEventListener("scroll",b,!0)}});var v=g.filter(function(e){return e.name.toLowerCase().includes(i.toLowerCase())}),y=g.filter(function(e){return e.region===f&&e.name.toLowerCase().includes(i.toLowerCase())});return r.a.createElement(r.a.Fragment,null,!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{setSearchString:l,currentRegion:f,setCurrentRegion:E,regions:d}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(w.a,{disableShrink:!0,size:70,thickness:4,variant:"indeterminate",className:p.progress})},r.a.createElement(O.a,{container:!0,spacing:8,className:p.content},"All"===f&&v.map(function(e){return r.a.createElement(A,{key:e.alpha3Code,country:e})}),"All"!==f&&y.map(function(e){return r.a.createElement(A,{key:e.alpha3Code,country:e})}),r.a.createElement(j.a,{in:m,timeout:500},r.a.createElement(S.a,{onClick:function(){return window.scrollTo(0,0)},color:"primary",className:p.fab},r.a.createElement(k.a,null)))))),h&&r.a.createElement(W,null))}),U=a(29);var D=Object(h.a)(function(e){return{progress:{color:e.palette.error.main,position:"relative",left:"50%"},grid:{paddingTop:"2rem"},button:{margin:"3px"},link:{textDecoration:"none",color:"inherit"},border:Object(C.a)({display:"inline"},e.breakpoints.down("sm"),{display:"block"})}})(function(e){var t=e.classes,a=e.details,n=e.data,i=e.isLoading,l=e.isError;r.a.useEffect(function(){window.scrollTo(0,0)});var o=a||{},s=o.name,m=o.flag,d=o.nativeName,g=o.population,p=o.region,h=o.subregion,b=o.capital,v=o.topLevelDomain,y=o.currencies,j=o.languages,S=o.borders,k=S&&S.map(function(e){return n.reduce(function(t,a){return a.alpha3Code===e&&Object.assign(t,{code:a.alpha3Code,name:a.name}),t},{})});return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(w.a,{disableShrink:!0,size:70,thickness:4,variant:"indeterminate",className:t.progress}),!i&&!a&&r.a.createElement(W,null),!i&&a&&r.a.createElement(u.a,null,r.a.createElement(E.a,{onClick:e.history.goBack,variant:"contained",color:"primary"},"\u2190 Back"),l&&r.a.createElement(W,null),a&&!l&&r.a.createElement(O.a,{container:!0,spacing:5,className:t.grid},r.a.createElement(O.a,{item:!0,sm:12,md:6},r.a.createElement("img",{src:m,alt:"".concat(s," flag"),width:"95%"})),r.a.createElement(O.a,{item:!0,sm:12,md:6},r.a.createElement(O.a,{container:!0,spacing:4,className:t.grid},r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"h4"},s)),r.a.createElement(O.a,{item:!0,sm:12,md:6},r.a.createElement(U.a,{forpage:"details",title:"Native name",value:d}),r.a.createElement(U.a,{forpage:"details",title:"Population",value:new Intl.NumberFormat("en-US",{useGrouping:!0}).format(g)}),r.a.createElement(U.a,{forpage:"details",title:"Region",value:p}),r.a.createElement(U.a,{forpage:"details",title:"Subregion",value:h}),r.a.createElement(U.a,{forpage:"details",title:"Capital",value:b})),r.a.createElement(O.a,{item:!0,sm:12,md:6},r.a.createElement(U.a,{forpage:"details",title:"Top level domain",value:v}),r.a.createElement(U.a,{forpage:"details",title:"Currencies",value:y&&y.map(function(e,t){return e.name+(t===y.length-1?"":", ")})}),r.a.createElement(U.a,{forpage:"details",title:"Languages",value:j&&j.map(function(e,t){return e.name+(t===j.length-1?"":", ")})})),r.a.createElement(O.a,{item:!0,xs:12},r.a.createElement(f.a,{variant:"subtitle1",gutterBottom:!0,className:t.border},"Border countries:"," "),k.map(function(e){var a=e.code,n=e.name;return r.a.createElement(E.a,{key:a,variant:"contained",color:"primary",className:t.button},r.a.createElement(c.b,{to:"/country/".concat(a),className:t.link},n))})))))))}),J=a(83),P={fontFamily:"Nunito Sans",button:{textTransform:"none"},h4:{fontWeight:800,fontSize:"1.85rem"},h5:{fontWeight:800,fontSize:"1.25rem"},h6:{fontWeight:600,fontSize:"1rem"},subtitle1:{fontWeight:600,fontSize:"1.15rem"},subtitle2:{fontWeight:600,fontSize:"1rem"},body1:{fontWeight:300,fontSize:"1.15rem"},body2:{fontWeight:300,fontSize:"1rem"}},G=Object(J.a)({typography:P,palette:{primary:{main:"hsl(0, 0%, 100%)"},secondary:{main:"hsl(0, 0%, 98%)"},text:{primary:"hsl(200, 15%, 8%)"},background:{paper:"hsl(0, 0%, 100%)",default:"hsl(0, 0%, 98%)"}}}),M=Object(J.a)({typography:P,palette:{primary:{main:"hsl(209, 23%, 22%)"},secondary:{main:"hsl(207, 26%, 17%)"},text:{primary:"hsl(0, 0%, 100%)"},background:{paper:"hsl(209, 23%, 22%)",default:"hsl(207, 26%, 17%)"}},overrides:{MuiSelect:{icon:{color:"hsl(0, 0%, 100%)"}}}}),Y=function(){var e=Object(n.useState)("light"),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("theme");e&&r(e)},[]),[a,function(){"dark"===a?(r("light"),localStorage.setItem("theme","light")):(r("dark"),localStorage.setItem("theme","dark"))}]},q=a(65),K=a.n(q),Q=a(81),V=a(59),X=a(82),Z=a.n(X),$=function(e,t){switch(t.type){case"FETCH_INIT":return Object(V.a)({},e,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(V.a)({},e,{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return Object(V.a)({},e,{isLoading:!1,isError:!0});default:throw new Error}};var ee=function(){var e=Y(),t=Object(o.a)(e,2),a=t[0],i=t[1],l=function(e,t){var a=Object(n.useState)(e),r=Object(o.a)(a,2),i=r[0],l=r[1],c=Object(n.useReducer)($,{isLoading:!1,isError:!1,data:t}),s=Object(o.a)(c,2),m=s[0],u=s[1];return Object(n.useEffect)(function(){var e=!1;return function(){var t=Object(Q.a)(K.a.mark(function t(){var a;return K.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u({type:"FETCH_INIT"}),t.prev=1,t.next=4,Z()(i);case 4:a=t.sent,e||u({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||u({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}},[i]),[m,l]}("https://restcountries.eu/rest/v2/all",[]),g=Object(o.a)(l,1)[0],p=g.data,f=g.isLoading,E=g.isError,h=Object(n.useState)([]),b=Object(o.a)(h,2),v=b[0],w=b[1],O=Object(n.useState)("All"),j=Object(o.a)(O,2),S=j[0],k=j[1];return Object(n.useEffect)(function(){w(p.reduce(function(e,t){return-1===e.indexOf(t.region)&&""!==t.region&&e.push(t.region),e},[]).sort())},[p]),r.a.createElement(c.a,{basename:"/"},r.a.createElement(d.a,{theme:"light"===a?G:M},r.a.createElement(m.a,null,r.a.createElement(u.a,{style:{paddingTop:"5.5rem"}},r.a.createElement(y,{toggleTheme:i,theme:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_,Object.assign({},e,{isError:E,data:p,regions:v,currentRegion:S,setCurrentRegion:k}))}}),r.a.createElement(s.a,{exact:!0,path:"/country/:code",render:function(e){return r.a.createElement(D,Object.assign({},e,{isLoading:f,isError:E,details:p.find(function(t){return t.alpha3Code===e.match.params.code}),data:p}))}}),r.a.createElement(s.a,{component:W}))))))};l.a.render(r.a.createElement(ee,null),document.getElementById("root"))},29:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(0),r=a.n(n),i=a(66);function l(e){var t=e.forpage,a=e.title,n=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{variant:"home"===t?"subtitle2":"details"===t&&"subtitle1",display:"inline"},a,": "),r.a.createElement(i.a,{variant:"home"===t?"body2":"details"===t&&"body1",display:"inline"},n),r.a.createElement("br",null))}},88:function(e,t,a){e.exports=a(130)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.103a15a0.chunk.js.map